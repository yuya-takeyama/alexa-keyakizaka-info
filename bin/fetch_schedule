#!/usr/bin/env node

const moment = require('moment-timezone');
const fetchSchedules = require('../build/fetcher').fetchSchedules;

const args = process.argv[2] ?
  [moment.tz(process.argv[2], 'Asia/Tokyo')] :
  [];

fetchSchedules(...args)
  .then((schedules) => {
    console.log(schedules);
  }).catch((err) => {
    console.error(`Failed to fetch schedules: ${err.message}`);
    process.exit(1);
  });
